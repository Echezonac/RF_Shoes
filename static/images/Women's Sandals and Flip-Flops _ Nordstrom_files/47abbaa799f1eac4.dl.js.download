(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[19],{"ubsL":function(e,o,t){"use strict";t.r(o),t.d(o,"default",(function(){return B}));var i=t("LlBK"),n=t.n(i),a=t("R34N"),s=t.n(a),r=(t("rGqo"),t("R5fk")),c=t("SS20"),p=t.n(c),d=t("gcio"),l=t.n(d),g=t("X61k"),b=t.n(g),u=t("Cl8A"),v=t("jEzm"),y=t("2B5G"),h=t("THLp");const f=Object.freeze([]),m=Object.freeze({}),A=b()(u.b,l()(f,"globalNavigation")),N=b()(u.b,e=>!e.globalNavigationResponseReceived),S=b()(u.b,l()(m,"navigation")),D=b()(v.selectShopper,l()("","Id")),k=e=>{const{DNDSApi:o}=Object(y.b)(e);return`${o}?shopperId=${D(e)}`},w=l()(m),L=l()("","name"),E=b()(p.a,(O=["brands","brands for you"],e=>O.includes(e)));var O;const _=(e,o)=>{const t=((e,o)=>b()(S,w(e),L)(o))(e,o);return E(t)},j=b()(v.selectShopper,l()(1,["Context","AuthenticationState"]),e=>1!==e);var P=t("QUpY"),x=t("iezu");const C=n()(s.a);function R(e,o){const{type:t,alignment:i,message:n}=e.payload,a={type:t,alignment:i,message:n};o(Object(r.headerNotificationChangeVisibilityAction)({notificationPayload:a,isNotificationVisible:!0}));var s;return(s=2500,new Promise(e=>{setTimeout(e,s)})).then(()=>{o(Object(r.headerNotificationChangeVisibilityAction)({notificationPayload:a,isNotificationVisible:!1}))})}const U=async(e,o,t,{service:i})=>{const n=t(),a=D(n);if(j(n)&&C(a)&&s()(A(n))&&(e=>s()(e.headerDesktop.variant))(n)){const[e,t]=await i.fetchDynamicNavigation({clientPlatform:"NComDesktop",shopperId:a});e&&o(Object(r.fetchDynamicNavigationSuccessAction)({response:e,globalNavigationResponseReceived:!0}))}},T=({payload:e},o,t,{logger:i})=>{const n=t();((e,o)=>_(e,o)&&N(o))(e.index,n)&&((e,o)=>{const t={apiRequestUrl:k(o),message:"User opened dynamic flyout prior to response from DNDS"};e.logEvent("info",t)})(i,n)};function B(e,o,t,i={}){switch(e.type){case r.headerNotificationShowAction.type:R(e,o);break;case r.headerKeywordSearchPopoverToggleAction.type:((e,o,t,i)=>{const n=t();if(e.payload.visible){const[e,o]=Object(x.a)(i.businessEventLogger,n);i.businessEventLogger.logBusinessEvent(e,o)}})(e,0,t,i);break;case r.headerLogExperimentExposureAction.type:!function(e,o,t,{logger:i}){const{experiments:n,uniqueUserId:a}=e.payload,{environment:{isServer:s}}=t();s||i.logExperimentExposure({experiments:n,uniqueUserId:a})}(e,0,t,i);break;case r.headerPrimaryNavigationLinkSelectAction.type:T(e,0,t,i);break;case r.viewDidMountAction.type:n=t(),(Object(h.g)(n)||"/").toLowerCase().endsWith(".nordstromrack.com/")||U(0,o,t,i);break;case P.k.type:setTimeout(()=>{((e,o,t)=>{const{headerDesktop:{isPopoverVisible:i,visiblePopoverType:n},keywordSearch:{hasSoftNavigated:a}}=t();i&&"keywordSearch"===n&&a&&o(Object(r.headerKeywordSearchPopoverToggleAction)({visible:!1}))})(0,o,t)})}var n}}}]);